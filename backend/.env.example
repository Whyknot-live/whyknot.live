# Backend Environment Variables
# Copy this file to .env and fill in your values

# Server Configuration
NODE_ENV=development
PORT=10000
TRUST_PROXY_FORWARDED=0

# Logging Configuration
# Levels: debug, info, warn, error
# Default: debug in development, info in production
LOG_LEVEL=debug

# MongoDB Configuration (Required)
# Free Tier (M0): 512 MB storage, 500 shared connections
# Get your connection string from MongoDB Atlas
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority
MONGODB_DB=your_database_name

# Redis Configuration (Optional - for distributed rate limiting)
# Free Tier Options:
# - Upstash: 10,000 commands/day, 30 MB memory
# - Redis Cloud: 30 MB memory, 30 connections
# Get connection string from your Redis provider (format: redis://username:password@host:port)
REDIS_URL=
USE_REDIS_RATE_LIMIT=1

# CORS Configuration
# For production, set to your frontend URL(s), comma-separated
CORS_ORIGIN=https://whyknot.live

# Resend Email Configuration (Required for sending emails)
# Free Tier: 100 emails/day, 3,000 emails/month
# Get your API key from https://resend.com/api-keys
ENABLE_EMAIL=1
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Email From/Reply-To Configuration
# Must use your verified domain in Resend
# Format: "Display Name <email@mail.yourdomain.com>"
EMAIL_FROM="Your App Name <noreply@mail.yourdomain.com>"
EMAIL_REPLY_TO=hello@yourdomain.com

# Legacy SMTP Configuration (Deprecated - use Resend instead)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=postmaster@example.com
# SMTP_PASS=supersecret

# Admin Panel Authentication (Required for admin dashboard)
# Generate a secure JWT secret: openssl rand -hex 32
# Generate password hash: bun run src/scripts/hash-password.ts 'YourSecureP@ssw0rd!'
# The hash below is for "ChangeThisToASecureP@ssw0rd!" - CHANGE IT IN PRODUCTION!
ADMIN_PASSWORD_HASH=$2b$12$iFkX5QS3bvpnV6Zvzlqwf.CUwi0VTPdHriNvwFj2CoP45bgBgUgjK
ADMIN_JWT_SECRET=generate-this-with-openssl-rand-hex-32-command

# Production Settings (Set these in Render Dashboard)
# - Add TLS certificates for custom domains
# - Configure health check path: /health
# - Enable auto-deploy from main branch
# - Set instance type based on traffic
# - Use environment variable groups for shared configs
# - Include admin panel URL in CORS_ORIGIN if deployed separately
