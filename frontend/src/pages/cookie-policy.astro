---
import Layout from '../layouts/Layout.astro';

const lastUpdated = "December 9, 2024";
---

<Layout 
  title="Cookie Policy - WhyKnot"
  description="Learn about how WhyKnot uses cookies and how you can manage your cookie preferences."
  keywords="cookie policy, cookies, privacy, GDPR, CCPA, tracking, WhyKnot"
>
  <article class="privacy-page">
    <!-- Header Section -->
    <section class="privacy-header">
      <div class="section-container">
        <div class="header-content">
          <h1 class="page-title">Cookie Policy</h1>
          <p class="last-updated">Last updated: {lastUpdated}</p>
          <p class="intro-text">
            This Cookie Policy explains how WhyKnot uses cookies and similar technologies 
            to recognize you when you visit our website. It explains what these technologies 
            are and why we use them, as well as your rights to control our use of them.
          </p>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <section class="privacy-content">
      <div class="section-container">
        <div class="content-wrapper">
          <!-- Table of Contents -->
          <nav class="toc" aria-label="Table of contents">
            <h2 class="toc-title">Contents</h2>
            <ul class="toc-list">
              <li><a href="#what-are-cookies">What Are Cookies</a></li>
              <li><a href="#types-of-cookies">Types of Cookies We Use</a></li>
              <li><a href="#specific-cookies">Specific Cookies We Use</a></li>
              <li><a href="#third-party-cookies">Third-Party Cookies</a></li>
              <li><a href="#managing-cookies">Managing Cookies</a></li>
              <li><a href="#contact-us">Contact Us</a></li>
            </ul>
          </nav>

          <!-- Cookie Policy Content -->
          <div class="policy-content">
            
            <section id="what-are-cookies" class="policy-section">
              <h2>1. What Are Cookies</h2>
              <p>
                Cookies are small text files that are placed on your computer or mobile device when 
                you visit a website. Cookies are widely used by website owners to make their websites 
                work, or to work more efficiently, as well as to provide reporting information.
              </p>
              <p>
                Cookies set by the website owner (in this case, WhyKnot) are called "first-party cookies." 
                Cookies set by parties other than the website owner are called "third-party cookies." 
                Third-party cookies enable third-party features or functionality to be provided on or 
                through the website (e.g., advertising, interactive content, and analytics).
              </p>
            </section>

            <section id="types-of-cookies" class="policy-section">
              <h2>2. Types of Cookies We Use</h2>
              
              <div class="cookie-types">
                <div class="cookie-type">
                  <h4>Essential Cookies</h4>
                  <p>
                    These cookies are strictly necessary for the website to function properly. 
                    They enable core functionality such as security, network management, and 
                    accessibility. You cannot disable these cookies through our consent manager 
                    as they are essential for the website to work.
                  </p>
                  <p class="cookie-status"><strong>Status:</strong> Always Active</p>
                </div>
                
                <div class="cookie-type">
                  <h4>Analytics Cookies</h4>
                  <p>
                    These cookies help us understand how visitors interact with our website by 
                    collecting and reporting information anonymously. This helps us improve 
                    website performance and user experience.
                  </p>
                  <p class="cookie-status"><strong>Status:</strong> Requires Consent</p>
                </div>
                
                <div class="cookie-type">
                  <h4>Preference Cookies</h4>
                  <p>
                    These cookies remember your preferences and settings to provide a more 
                    personalized experience, such as remembering your theme preference 
                    (light/dark mode) or language settings.
                  </p>
                  <p class="cookie-status"><strong>Status:</strong> Requires Consent</p>
                </div>
                
                <div class="cookie-type">
                  <h4>Marketing Cookies</h4>
                  <p>
                    These cookies track your browsing habits to show you relevant advertisements 
                    and measure the effectiveness of our marketing campaigns. They may be set 
                    through our site by our advertising partners.
                  </p>
                  <p class="cookie-status"><strong>Status:</strong> Requires Consent</p>
                </div>
              </div>
            </section>

            <section id="specific-cookies" class="policy-section">
              <h2>3. Specific Cookies We Use</h2>
              <p>
                Below is a detailed list of the cookies we use on our website:
              </p>
              
              <div class="cookie-table-wrapper">
                <table class="cookie-table">
                  <thead>
                    <tr>
                      <th>Cookie Name</th>
                      <th>Type</th>
                      <th>Purpose</th>
                      <th>Duration</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><code>whyknot_cookie_consent</code></td>
                      <td>Essential</td>
                      <td>Stores your cookie consent preferences</td>
                      <td>1 year</td>
                    </tr>
                    <tr>
                      <td><code>theme</code></td>
                      <td>Preference</td>
                      <td>Stores your theme preference (light/dark mode)</td>
                      <td>1 year</td>
                    </tr>
                    <tr>
                      <td><code>_ga</code></td>
                      <td>Analytics</td>
                      <td>Google Analytics - Distinguishes unique users</td>
                      <td>2 years</td>
                    </tr>
                    <tr>
                      <td><code>_ga_*</code></td>
                      <td>Analytics</td>
                      <td>Google Analytics - Maintains session state</td>
                      <td>2 years</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <section id="third-party-cookies" class="policy-section">
              <h2>4. Third-Party Cookies</h2>
              <p>
                In addition to our own cookies, we may also use various third-party cookies to 
                report usage statistics of the website and deliver advertisements on and through 
                the website:
              </p>
              <ul>
                <li>
                  <strong>Google Analytics:</strong> We use Google Analytics to analyze how 
                  visitors use our website. Google Analytics uses cookies to collect standard 
                  internet log information and visitor behavior in an anonymous form. 
                  <a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">
                    Learn about Google's privacy policy
                  </a>
                </li>
                <li>
                  <strong>Google AdSense:</strong> We may display advertisements through Google 
                  AdSense, which uses cookies to serve ads based on your prior visits to our 
                  website or other websites.
                  <a href="https://policies.google.com/technologies/ads" target="_blank" rel="noopener noreferrer">
                    Learn how Google uses data
                  </a>
                </li>
              </ul>
            </section>

            <section id="managing-cookies" class="policy-section">
              <h2>5. Managing Cookies</h2>
              <p>
                You have the right to decide whether to accept or reject cookies. You can manage 
                your cookie preferences in the following ways:
              </p>
              
              <h3>Cookie Consent Banner</h3>
              <p>
                When you first visit our website, you will see a cookie consent banner that allows 
                you to accept or reject non-essential cookies. You can change your preferences at 
                any time by clicking the button below:
              </p>
              <button 
                type="button" 
                class="btn btn-primary"
                onclick="window.openCookieSettings && window.openCookieSettings()"
              >
                Manage Cookie Settings
              </button>
              
              <h3>Browser Settings</h3>
              <p>
                Most web browsers allow you to control cookies through their settings preferences. 
                However, if you limit the ability of websites to set cookies, you may worsen your 
                overall user experience and some features may not function properly.
              </p>
              
              <h3>Opt-Out Links</h3>
              <ul>
                <li>
                  <a href="https://tools.google.com/dlpage/gaoptout" target="_blank" rel="noopener noreferrer">
                    Google Analytics Opt-out Browser Add-on
                  </a>
                </li>
                <li>
                  <a href="https://adssettings.google.com" target="_blank" rel="noopener noreferrer">
                    Google Ads Settings
                  </a>
                </li>
              </ul>
            </section>

            <section id="contact-us" class="policy-section">
              <h2>6. Contact Us</h2>
              <p>
                If you have any questions about our use of cookies or this Cookie Policy, 
                please contact us:
              </p>
              
              <div class="contact-info">
                <div class="contact-method">
                  <strong>Email:</strong> privacy@whyknot.live
                </div>
                <div class="contact-method">
                  <strong>General Contact:</strong> hello@whyknot.live
                </div>
              </div>

              <p>
                For more information about how we handle your personal data, please see our 
                <a href="/privacy-policy">Privacy Policy</a>.
              </p>
            </section>
          </div>
        </div>
      </div>
    </section>
  </article>
</Layout>

<style>
  .cookie-table-wrapper {
    overflow-x: auto;
    margin: 1.5rem 0;
  }
  
  .cookie-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
  }
  
  .cookie-table th,
  .cookie-table td {
    padding: 0.75rem 1rem;
    text-align: left;
    border: 1px solid var(--color-outline-variant);
  }
  
  .cookie-table th {
    background: var(--color-surface-container-low);
    font-weight: 600;
    color: var(--color-on-surface);
  }
  
  .cookie-table td {
    background: var(--color-surface);
    color: var(--color-text-muted);
  }
  
  .cookie-table code {
    background: var(--color-surface-container);
    padding: 0.15rem 0.4rem;
    border-radius: 0.25rem;
    font-size: 0.85em;
  }
  
  .cookie-status {
    margin-top: 0.75rem;
    font-size: 0.9rem;
    color: var(--color-accent-300);
  }
  
  .policy-section .btn {
    margin: 1rem 0 1.5rem;
  }
</style>

<script>
  // Smooth scrolling for table of contents
  function initTOCScrolling() {
    const tocLinks = document.querySelectorAll('.toc-list a');
    
    tocLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href')?.substring(1);
        const targetElement = document.getElementById(targetId || '');
        
        if (targetElement) {
          const offset = 100;
          const elementPosition = targetElement.offsetTop - offset;
          
          window.scrollTo({
            top: elementPosition,
            behavior: 'smooth'
          });
        }
      });
    });
  }

  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', initTOCScrolling);
  document.addEventListener('astro:page-load', initTOCScrolling);
</script>
